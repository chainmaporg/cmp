<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US">

<head>
    <% include ./partials/header %>
</head>

<body id="wordpress-org" class="plugin-template-default single single-plugin postid-9596 admin-bar no-customize-support no-js">
    <script type="text/javascript">document.body.className = document.body.className.replace('no-js', 'js');</script>
    <% include ./partials/body_header %>
        <div id="page" class="site">
            <a class="skip-link screen-reader-text" href="#main">Skip to content</a>

            <div id="content" class="site-content">
                <header id="masthead" class="site-header " role="banner">
                    <div class="site-branding">
                        <p class="site-title">
                            <a href="javascript:" rel="home">Challenge Board</a>
                        </p>

                        <% include ./partials/nav_menu %>
                            <!-- #site-navigation -->
                    </div>
                    <!-- .site-branding -->
                </header>
                <!-- #masthead -->

                <main id="main" class="site-main" role="main">


                    <article id="post-9596" class="post-9596 plugin type-plugin status-publish hentry plugin_category-discussion-and-community plugin_contributors-trevorpythag plugin_committers-trevorpythag plugin_tags-answers plugin_tags-forum plugin_tags-questions">

                        <header class="plugin-header">

                            <h1 class="plugin-title">
                                <%=data.challengedetails[0].title%>
                            </h1>

                            <span class="byline">By
                                <span class="author vcard">
                                    <a class="url fn n" rel="nofollow" href="javascript">
                                        <%=data.challengedetails[0].user_name%>
                                    </a>
                                </span>
                            </span>
                        </header>
                        <!-- .entry-header -->


                        <div id="tab-description" class="plugin-description section">

                            <div class="main-questions-list">
                                <ul id="main_questions_list">
                                    <li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem" class="question-item post-2341 question type-question status-publish hentry question_category-business qa_tag-business-2 qa_tag-technology-2"
                                        data-id="2341">
                                        <div itemprop="item" itemscope="" itemtype="http://schema.org/Question">
                                            <div class="col-md-8 col-xs-8 q-left-content">
                                                <div class="q-ltop-content">
                                                    <h2 itemprop="name">
                                                        <a itemprop="url" href="http://localhost:8080/getChallengebyID/<%=data.challengedetails[0].challenge_id%>" class="question-title">
                                                            <%=data.challengedetails[0].title%>
                                                        </a>
                                                    </h2>
                                                </div>
                                                <div class="q-lbtm-content">
                                                    <div itemprop="text" class="question-excerpt">
                                                        <p>
                                                            <%=data.challengedetails[0].description%>
                                                        </p>
                                                    </div>
                                                    <div class="question-cat">
                                                        <ul class="question-tags">
                                                            <li>
                                                                <a class="q-tag" href="javascript:">
                                                                    <%=data.challengedetails[0].category%>
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a class="q-tag" href="javascript: ">
                                                                    <%=data.challengedetails[0].level%>
                                                                </a>
                                                            </li>
                                                        </ul>
                                                        <div class="clearfix"></div>

                                                        <span title="90" class="user-badge" style="background-color:#04aad4;">Asked By
                                                            <%=data.challengedetails[0].user_name%>
                                                        </span>
                                                        <span itemprop="dateCreated" datetime="on July 14, 2016" class="question-time">
                                                            Asked on
                                                            <%=data.challengedetails[0].posting_date%>
                                                        </span>
                                                        <!-- <span class="question-category">
                                                                <a href="https://qaengine.enginethemes.com/blog/question-category/business/">Business.</a>
                                                            </span> -->
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- end left content -->
                                            <div class="col-md-4 col-xs-4 q-right-content">
                                                <ul class="question-statistic">
                                                    <li>
                                                        <span class="question-views">
                                                            <%=data.challengedetails[0].view_count%>
                                                        </span>
                                                        views </li>
                                                    <li class="active">
                                                        <span itemprop="answerCount" class="question-answers">
                                                            <%=data.challengedetails[0].total_answers%>
                                                        </span>
                                                        answers </li>
                                                    <li>
                                                        <span itemprop="upvoteCount" class="question-votes">
                                                            <%=data.challengedetails[0].upvote_count + data.challengedetails[0].downvote_count%>
                                                        </span>
                                                        votes </li>
                                                </ul>
                                                <div class="pumping">
                                                </div>
                                            </div>
                                            <!-- end right content -->
                                            <div class="clearfix"></div>
                                        </div>
                                    </li>
                                    <h3 itemprop="name">
                                        Answers::
                                    </h3>
                                    <% if(data.answers.length){ 
                                            for(var i = 0;i < data.answers.length;i++) { %>
                                        <li itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem" class="question-item post-2341 question type-question status-publish hentry question_category-business qa_tag-business-2 qa_tag-technology-2"
                                            data-id="2341">
                                            <div itemprop="item" itemscope="" itemtype="http://schema.org/Question">
                                                <div class="col-md-8 col-xs-8 q-left-content">
                                                    <div class="q-lbtm-content">
                                                        <div itemprop="text" class="question-excerpt">
                                                            <p>
                                                                <%=data.answers[i].description%>
                                                            </p>
                                                        </div>
                                                        <div class="question-cat">
                                                            <div class="clearfix"></div>

                                                            <span title="90" class="user-badge" style="background-color:#04aad4;">Answered By
                                                                <%=data.answers[i].user_name%>
                                                            </span>
                                                            <span itemprop="dateCreated" datetime="on July 14, 2016" class="question-time">
                                                                Answered on
                                                                <%=data.answers[i].posting_date%>
                                                            </span>
                                                            <!-- <span class="question-category">
                                                            <a href="https://qaengine.enginethemes.com/blog/question-category/business/">Business.</a>
                                                        </span> -->
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- end left content -->
                                                <div class="col-md-4 col-xs-4 q-right-content">
                                                    <ul class="question-statistic">
                                                        <li>
                                                            <span class="question-views">
                                                                <%=data.answers[i].view_count%>
                                                            </span>
                                                            views </li>
                                                        <li class="active">
                                                            <span itemprop="answerCount" class="question-answers">
                                                                <%=data.answers[i].total_answers%>
                                                            </span>
                                                            answers </li>
                                                        <li>
                                                            <span itemprop="upvoteCount" class="question-votes">
                                                                <%=data.answers[i].upvote_count + data.answers[i].downvote_count%>
                                                            </span>
                                                            votes </li>
                                                    </ul>
                                                    <div class="pumping">
                                                    </div>
                                                </div>
                                                <!-- end right content -->
                                                <div class="clearfix"></div>
                                            </div>
                                        </li>
                                        <% }} %>
                                </ul>
                                <button type="button" class="btn btn-primary" data-target="#answer-modal" data-toggle="modal">Post a Answer</button>
                            </div>
                        </div>

                    </article>
                    <!-- #post-## -->

                </main>
                <!-- #main -->


            </div>
            <!-- #content -->


            <!-- model window for posting an answer of a question -->

            <!-- Modal Posting question modal window-->
            <div class="modal fade" id="answer-modal" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span aria-hidden="true">&times;</span>
                                <span class="sr-only">Close</span>
                            </button>
                            <h4 class="modal-title" id="myModalLabel">
                                Post an answer of the Challenge
                            </h4>
                        </div>
                        <div class="modal-body">
                            <form class="form-horizontal" role="form">

                                <div class="form-group">
                                    <label for="position">Answer</label>
                                    <textarea class="form-control" rows="10" id="answer" name="answer"></textarea>
                                </div>

                            </form>
                        </div>
                        <!-- Modal Footer -->
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" onclick="getvaluesToAnswer('<%=data.challengedetails[0].challenge_id%>');">Save changes</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- List Add modal window end -->

            <!-- modal window end for posting an answer of a question -->



            <% include ./partials/footer %>
                <script type="text/javascript">
                    function getvaluesToAnswer(challenge_id) {
                        var url = "/postanswer";
                        var answer = $("#answer").val();
                        $.ajax({
                            type: 'POST',
                            url: url,
                            data: {
                                description: answer,
                                challenge_id: challenge_id
                            },
                            async: false,
                            success: function (data) {
                                window.location.reload();
                            },
                            error: function () {
                                alert('Error occured');
                            }
                        });
                    }
                </script>
</body>

</html>